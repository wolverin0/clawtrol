<%#
  Delete confirmation modal
  Usage: Wrap the delete button in a div with data-controller="delete-confirm"

  <div data-controller="delete-confirm" data-delete-confirm-item-name-value="Item Name">
    <button type="button" data-action="click->delete-confirm#open">Delete</button>
    render "application/delete_modal", url: some_path
  </div>
%>

<!-- Backdrop -->
<div data-delete-confirm-target="backdrop"
     data-action="click->delete-confirm#closeOnBackdrop"
     class="hidden opacity-0 fixed inset-0 bg-black/60 transition-opacity duration-200 ease-out z-[90]">
</div>

<!-- Modal -->
<div data-delete-confirm-target="modal"
     class="hidden opacity-0 scale-95 fixed inset-0 flex items-center justify-center z-[100] pointer-events-none transition-all duration-200 ease-out">
  <div class="pointer-events-auto bg-neutral-900 rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 border border-neutral-800">
    <!-- Title -->
    <h3 class="text-lg font-medium text-white mb-2 tracking-tight">
      Delete "<span data-delete-confirm-target="itemName"></span>"?
    </h3>

    <!-- Description -->
    <p class="text-sm text-neutral-400 mb-6" data-delete-confirm-target="description">
      This action cannot be undone.
    </p>

    <!-- Hidden form (will be submitted on confirm) -->
    <%= form_with url: url, method: :delete, data: { delete_confirm_target: "form" }, class: "hidden" do |f| %>
      <%= f.submit "Delete", style: "display: none;" %>
    <% end %>

    <!-- Buttons -->
    <div class="flex gap-3 justify-end">
      <button type="button"
              data-action="click->delete-confirm#close"
              class="px-4 py-2 text-sm rounded-md bg-neutral-800 hover:bg-neutral-700 text-neutral-300 transition-colors">
        Cancel
      </button>
      <button type="button"
              data-action="click->delete-confirm#confirm"
              class="px-4 py-2 text-sm rounded-md bg-red-500 text-white hover:bg-red-600 transition-colors">
        Delete
      </button>
    </div>
  </div>
</div>
