<%#
  Delete confirmation modal for delete-completed-tasks
  Usage: Wrap the delete button in a div with data-controller="delete-confirm-completed-tasks"

  <div data-controller="delete-confirm-completed-tasks" data-delete-confirm-completed-tasks-item-name-value="Item Name">
    <button type="button" data-action="click->delete-confirm-completed-tasks#open">Delete</button>
    render "application/delete_modal_completed_tasks", url: some_path
  </div>
%>

<!-- Backdrop -->
<div data-delete-confirm-completed-tasks-target="backdrop"
     data-action="click->delete-confirm-completed-tasks#closeOnBackdrop"
     class="hidden opacity-0 fixed inset-0 bg-black/60 transition-opacity duration-200 ease-out z-[90]">
</div>

<!-- Modal -->
<div data-delete-confirm-completed-tasks-target="modal"
     class="hidden opacity-0 scale-95 fixed inset-0 flex items-center justify-center z-[100] pointer-events-none transition-all duration-200 ease-out">
  <div class="pointer-events-auto bg-bg-surface rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 border border-border">
    <!-- Title -->
    <h3 class="text-lg font-medium text-content mb-2 tracking-tight font-display">
      Delete "<span data-delete-confirm-completed-tasks-target="itemName"></span>"?
    </h3>

    <!-- Description -->
    <p class="text-sm text-content-secondary mb-6" data-delete-confirm-completed-tasks-target="description">
      This action cannot be undone.
    </p>

    <!-- Hidden form (will be submitted on confirm) -->
    <%= form_with url: url, method: :delete, data: { delete_confirm_completed_tasks_target: "form" }, class: "hidden" do |f| %>
      <%= f.submit "Delete", style: "display: none;" %>
    <% end %>

    <!-- Buttons -->
    <div class="flex gap-3 justify-end">
      <button type="button"
              data-action="click->delete-confirm-completed-tasks#close"
              class="px-4 py-2 text-sm rounded-md bg-bg-elevated hover:bg-bg-hover text-content-secondary transition-colors">
        Cancel
      </button>
      <button type="button"
              data-action="click->delete-confirm-completed-tasks#confirm"
              class="px-4 py-2 text-sm rounded-md bg-red-500 text-white hover:bg-red-600 transition-colors">
        Delete
      </button>
    </div>
  </div>
</div>
