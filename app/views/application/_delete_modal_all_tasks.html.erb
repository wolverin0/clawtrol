<%#
  Delete confirmation modal for delete-all-tasks
  Usage: Wrap the delete button in a div with data-controller="delete-confirm-all-tasks"

  <div data-controller="delete-confirm-all-tasks" data-delete-confirm-all-tasks-item-name-value="Item Name">
    <button type="button" data-action="click->delete-confirm-all-tasks#open">Delete</button>
    render "application/delete_modal_all_tasks", url: some_path
  </div>
%>

<!-- Backdrop -->
<div data-delete-confirm-all-tasks-target="backdrop"
     data-action="click->delete-confirm-all-tasks#closeOnBackdrop"
     class="hidden opacity-0 fixed inset-0 bg-stone-900/20 dark:bg-black/40 transition-opacity duration-200 ease-out z-[90]">
</div>

<!-- Modal -->
<div data-delete-confirm-all-tasks-target="modal"
     class="hidden opacity-0 scale-95 fixed inset-0 flex items-center justify-center z-[100] pointer-events-none transition-all duration-200 ease-out">
  <div class="pointer-events-auto bg-stone-50 dark:bg-stone-700 rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 border border-stone-200 dark:border-white/10">
    <!-- Title -->
    <h3 class="text-lg font-medium text-stone-900 dark:text-stone-100 mb-2 tracking-tight">
      Delete "<span data-delete-confirm-all-tasks-target="itemName"></span>"?
    </h3>

    <!-- Description -->
    <p class="text-sm text-stone-600 dark:text-stone-400 mb-6" data-delete-confirm-all-tasks-target="description">
      This action cannot be undone.
    </p>

    <!-- Hidden form (will be submitted on confirm) -->
    <%= form_with url: url, method: :delete, data: { delete_confirm_all_tasks_target: "form" }, class: "hidden" do |f| %>
      <%= f.submit "Delete", style: "display: none;" %>
    <% end %>

    <!-- Buttons -->
    <div class="flex gap-3 justify-end">
      <button type="button"
              data-action="click->delete-confirm-all-tasks#close"
              class="px-4 py-2 text-sm rounded-md bg-stone-200 dark:bg-white/10 hover:bg-stone-300 dark:hover:bg-white/20 text-stone-900 dark:text-stone-100 transition-colors">
        Cancel
      </button>
      <button type="button"
              data-action="click->delete-confirm-all-tasks#confirm"
              class="px-4 py-2 text-sm rounded-md bg-stone-900 dark:bg-white text-white dark:text-stone-900 hover:bg-red-500 dark:hover:bg-red-500 dark:hover:text-stone-100 transition-colors">
        Delete
      </button>
    </div>
  </div>
</div>

