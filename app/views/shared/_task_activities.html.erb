<div id="task-activities-<%= task.id %>" class="space-y-3">
  <% task.activities.reload.recent.limit(10).each do |activity| %>
    <div class="flex items-start gap-3">
      <!-- Activity icon -->
      <div class="flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center <%= activity_icon_bg(activity) %>">
        <%= activity_icon(activity) %>
      </div>
      <!-- Activity content -->
      <div class="flex-1 min-w-0">
        <p class="text-sm text-content-secondary"><%= activity.description %></p>
        <p class="text-xs text-content-muted mt-0.5">
          <%= time_ago_in_words(activity.created_at) %> ago
          <% if activity.source == "api" %>
            <span class="inline-flex items-center ml-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-status-warning/20 text-status-warning">API</span>
          <% end %>
        </p>
      </div>
    </div>
  <% end %>
  <% if task.activities.empty? %>
    <p class="text-sm text-content-muted italic">No activity yet</p>
  <% end %>
</div>
