<div id="task-activities-<%= task.id %>" class="space-y-3">
  <% task.activities.reload.recent.limit(10).each do |activity| %>
    <div class="flex items-start gap-3">
      <!-- Activity icon -->
      <div class="flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center <%= activity_icon_bg(activity) %>">
        <%= activity_icon(activity) %>
      </div>
      <!-- Activity content -->
      <div class="flex-1 min-w-0">
        <p class="text-sm text-stone-600 dark:text-stone-300"><%= activity.description %></p>
        <p class="text-xs text-stone-400 dark:text-white/40 mt-0.5">
          <%= time_ago_in_words(activity.created_at) %> ago
          <% if activity.source == "api" %>
            <span class="inline-flex items-center ml-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400">API</span>
          <% end %>
        </p>
      </div>
    </div>
  <% end %>
  <% if task.activities.empty? %>
    <p class="text-sm text-stone-400 dark:text-white/40 italic">No activity yet</p>
  <% end %>
</div>
