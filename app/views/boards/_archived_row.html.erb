<tr class="hover:bg-bg-elevated transition-colors">
  <td class="px-4 py-3 text-sm text-content-muted">#<%= task.id %></td>
  <td class="px-4 py-3">
    <div class="flex items-center gap-2">
      <% if task.priority != "none" %>
        <% flame_count = { "low" => 1, "medium" => 2, "high" => 3 }[task.priority] || 0 %>
        <% flame_color = { "high" => "text-accent", "medium" => "text-orange-500", "low" => "text-yellow-500" }[task.priority] %>
        <div class="flex -space-x-1">
          <% flame_count.times do %>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-3.5 h-3.5 <%= flame_color %>">
              <path fill-rule="evenodd" d="M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z" clip-rule="evenodd" />
            </svg>
          <% end %>
        </div>
      <% end %>
      <span class="text-sm font-medium text-content"><%= task.name.truncate(60) %></span>
      <% if task.tags.present? && task.tags.any? %>
        <div class="flex gap-1">
          <% task.tags.first(2).each do |tag| %>
            <span class="inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-bg-elevated text-content-secondary">
              <%= tag %>
            </span>
          <% end %>
          <% if task.tags.count > 2 %>
            <span class="text-[10px] text-content-muted">+<%= task.tags.count - 2 %></span>
          <% end %>
        </div>
      <% end %>
    </div>
  </td>
  <td class="px-4 py-3 text-sm text-content-muted">
    <%= task.completed_at.present? ? time_ago_in_words(task.completed_at) + " ago" : "-" %>
  </td>
  <td class="px-4 py-3 text-sm text-content-muted">
    <%= task.archived_at.present? ? time_ago_in_words(task.archived_at) + " ago" : "-" %>
  </td>
  <td class="px-4 py-3 text-right">
    <%= button_to move_board_task_path(board, task), 
        method: :patch, 
        params: { status: "done" },
        class: "inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-accent/20 hover:bg-accent/30 text-accent rounded-md transition-colors",
        title: "Move back to Done" do %>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3.5 h-3.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
      </svg>
      Unarchive
    <% end %>
  </td>
</tr>
