<div class="space-y-8">
  <!-- Section 1: Project Details -->
  <div>
    <h3 class="text-xs font-medium text-stone-400 dark:text-white/50 uppercase tracking-wider mb-3">Project Details</h3>
    <%= form_with(model: project, class: "space-y-3") do |form| %>
      <div class="space-y-3">
        <div class="bg-stone-100 dark:bg-white/10 rounded-md p-4">
          <%= form.label :title, class: "block text-xs font-medium text-stone-500 dark:text-white/70 mb-1" %>
          <%= form.text_field :title, placeholder: "Project title", class: "block w-full bg-transparent border-0 p-0 text-sm text-stone-900 dark:text-stone-100 placeholder:text-stone-400 dark:placeholder:text-white/40 focus:ring-0 focus:outline-none" %>
        </div>
        <div class="bg-stone-100 dark:bg-white/10 rounded-md p-4">
          <%= form.label :description, class: "block text-xs font-medium text-stone-500 dark:text-white/70 mb-1" %>
          <%= form.text_field :description, placeholder: "Brief description of your project", class: "block w-full bg-transparent border-0 p-0 text-sm text-stone-900 dark:text-stone-100 placeholder:text-stone-400 dark:placeholder:text-white/40 focus:ring-0 focus:outline-none" %>
        </div>
        <div class="bg-stone-100 dark:bg-white/10 rounded-md p-4">
          <%= form.label :image, "Project Image", class: "block text-xs font-medium text-stone-500 dark:text-white/70 mb-2" %>
          <% if project.image.attached? %>
            <div class="mb-3 flex items-center gap-3">
              <%= image_tag project.image, class: "w-12 h-12 object-cover rounded-md" %>
              <label class="flex items-center text-xs text-stone-500 dark:text-white/60 cursor-pointer">
                <%= form.check_box :remove_image, class: "mr-2 rounded border-stone-300 dark:border-white/30 text-lime-600 focus:ring-lime-500" %>
                Remove image
              </label>
            </div>
          <% end %>
          <%= form.file_field :image, accept: "image/jpeg,image/jpg,image/png,image/webp", class: "block w-full text-xs text-stone-500 dark:text-white/60 file:mr-3 file:py-1.5 file:px-3 file:rounded-md file:border-0 file:text-xs file:font-medium file:bg-stone-200 dark:file:bg-white/10 file:text-stone-600 dark:file:text-white/70 hover:file:bg-stone-300 dark:hover:file:bg-white/20 file:cursor-pointer file:transition-colors" %>
        </div>
      </div>
      <% if project.errors.any? %>
        <div class="mt-2">
          <% project.errors.full_messages.each do |error| %>
            <p class="text-red-500 dark:text-red-400 text-xs"><%= error %></p>
          <% end %>
        </div>
      <% end %>
      <div class="flex items-center gap-2 pt-2">
        <%= form.submit project.persisted? ? "Save changes" : "Create", class: "cursor-pointer px-4 py-2 bg-purple-600 dark:bg-white text-white dark:text-stone-900 hover:bg-purple-500 dark:hover:bg-stone-200 text-xs font-semibold rounded-sm transition-colors duration-200" %>
        <%= link_to "Cancel", (project.persisted? ? project_path(project) : projects_path), class: "px-4 py-2 bg-stone-100 dark:bg-white/10 hover:bg-stone-200 dark:hover:bg-white/20 text-stone-500 dark:text-white/60 text-xs font-medium rounded-md transition-colors" %>
      </div>
    <% end %>
  </div>

  <% if project.persisted? %>
    <!-- Section 2: Danger Zone -->
    <div class="pt-6 border-t border-stone-200 dark:border-white/10">
      <h3 class="text-xs font-medium text-red-500 dark:text-red-400 uppercase tracking-wider mb-3">Danger Zone</h3>
      <div class="bg-stone-100 dark:bg-white/10 rounded-md p-4">
        <p class="text-xs text-stone-500 dark:text-white/60 mb-3">Once you delete a project, there is no going back. Please be certain.</p>
        <div data-controller="delete-confirm" data-delete-confirm-item-name-value="<%= project.title %>">
          <button type="button"
                  data-action="click->delete-confirm#open"
                  class="cursor-pointer px-4 py-2 bg-red-100 dark:bg-red-900/20 hover:bg-red-200 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium rounded-md transition-colors">
            Delete project
          </button>
          <%= render "application/delete_modal", url: project_path(project) %>
        </div>
      </div>
    </div>
  <% end %>
</div>
