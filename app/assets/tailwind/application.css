@import "tailwindcss";

@theme {
  /* ========================================
     SEMANTIC COLOR PALETTE
     Change colors here to update everywhere
     ======================================== */

  /* Backgrounds */
  --color-bg-base: #050810;
  --color-bg-surface: #0a0f1a;
  --color-bg-elevated: #151c2c;
  --color-bg-hover: #1a2332;

  /* Accent (primary action color) */
  --color-accent: #ff4d4d;
  --color-accent-hover: #e63946;
  --color-accent-dark: #991b1b;
  --color-accent-muted: rgba(255, 77, 77, 0.3);

  /* Text/Content */
  --color-content: #ffffff;
  --color-content-secondary: #a0aec0;
  --color-content-muted: #8892b0; /* WCAG AA compliant (4.5:1 against dark bg) */
  --color-content-inverse: #050810;

  /* Borders */
  --color-border: rgba(136, 146, 176, 0.15);
  --color-border-accent: rgba(255, 77, 77, 0.3);

  /* Status colors */
  --color-status-success: #22c55e;
  --color-status-warning: #f59e0b;
  --color-status-error: #ef4444;
  --color-status-info: #3b82f6;

  /* Fonts */
  --font-display: "Clash Display", system-ui, sans-serif;
  --font-body: "Satoshi", system-ui, sans-serif;
}

/* ========================================
   VAPORWAVE THEME OVERRIDE
   Opt-in theme with synthwave aesthetic
   ======================================== */
[data-theme="vaporwave"] {
  --color-bg-base: #0F051D;
  --color-bg-surface: #1A0A2E;
  --color-bg-elevated: #2D1B4E;
  --color-bg-hover: #3D2B5E;

  --color-accent: #FF71CE;
  --color-accent-hover: #FF9AD9;
  --color-accent-dark: #B94E91;
  --color-accent-muted: rgba(255, 113, 206, 0.3);

  --color-content: #FEFEFE;
  --color-content-secondary: #C8B8E8;
  --color-content-muted: #9B8BC0;
  --color-content-inverse: #0F051D;

  --color-border: rgba(185, 103, 255, 0.15);
  --color-border-accent: rgba(255, 113, 206, 0.3);

  --color-status-success: #05FFA1;
  --color-status-warning: #FFE156;
  --color-status-error: #FF71CE;
  --color-status-info: #01CDFE;

  --font-display: "Exo 2", system-ui, sans-serif;
  --font-body: "Exo 2", system-ui, sans-serif;
}

@layer base {
  :root {
    --font-sans: "Satoshi", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    color-scheme: dark;
  }

  html,
  body {
    font-family: var(--font-body);
    margin: 0;
    padding: 0;
    background-color: var(--color-bg-base);
  }
}

/* ========================================
   STARRY BACKGROUND (Homepage)
   ======================================== */
.stars {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image:
    radial-gradient(2px 2px at 20px 30px, rgba(255, 255, 255, 0.8), transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(255, 255, 255, 0.6), transparent),
    radial-gradient(2px 2px at 130px 80px, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(1px 1px at 160px 120px, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(2px 2px at 200px 60px, rgba(0, 229, 204, 0.6), transparent),
    radial-gradient(1px 1px at 250px 150px, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(2px 2px at 300px 40px, rgba(255, 77, 77, 0.4), transparent);
  background-size: 350px 200px;
  animation: twinkle 8s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: 0;
}

@keyframes twinkle {
  0% { opacity: 0.4; }
  100% { opacity: 0.7; }
}

.nebula {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background:
    radial-gradient(ellipse 80% 50% at 20% 20%, rgba(255, 77, 77, 0.12), transparent 50%),
    radial-gradient(ellipse 60% 60% at 80% 30%, rgba(0, 229, 204, 0.08), transparent 50%),
    radial-gradient(ellipse 90% 70% at 50% 90%, rgba(255, 77, 77, 0.06), transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* ========================================
   COLUMN DRAG HIGHLIGHT
   ======================================== */
.column-drag-over {
  background: rgba(255, 77, 77, 0.03);
  border-color: var(--color-accent-muted);
}

/* ========================================
   KANBAN COLUMN TINTS & STATES
   ======================================== */
/* Subtle background tints per status */
.column-up-next {
  background: rgba(59, 130, 246, 0.03); /* blue tint */
}

.column-in-progress {
  background: rgba(245, 158, 11, 0.03); /* amber tint */
  border-top: 2px solid var(--color-accent);
}

.column-in-review {
  background: rgba(168, 85, 247, 0.03); /* purple tint */
}

.column-done {
  background: rgba(34, 197, 94, 0.03); /* green tint */
}

/* Done column cards: dimmed, brighten on hover */
.column-done li[id^="task_"] {
  opacity: 0.75;
  transition: opacity 0.15s ease;
}

.column-done li[id^="task_"]:hover {
  opacity: 1;
}

/* ========================================
   AGENT MODAL (Bottom Sheet on Mobile)
   ======================================== */
.agent-modal-backdrop.open {
  opacity: 1;
}

/* Animate the content, not the container */
.agent-modal.open .agent-modal-content {
  /* Mobile: slide up from bottom */
  transform: translateY(0) !important;
  opacity: 1 !important;
}

@media (min-width: 768px) {
  .agent-modal.open .agent-modal-content {
    /* Desktop: fade in and scale up */
    opacity: 1 !important;
    transform: scale(1) !important;
  }
}

/* Smooth transition for content */
.agent-modal-content {
  will-change: transform, opacity;
}

/* Agent preview button - always visible with good touch target */
.agent-preview-btn {
  min-width: 32px;
  min-height: 32px;
  /* Expand touch target invisibly for mobile */
  position: relative;
}

.agent-preview-btn::before {
  content: '';
  position: absolute;
  inset: -6px;
  /* 44x44px touch target */
}

/* Sidebar layout */
@layer components {
  /* Hide sidebar until JS determines state */
  [data-sidebar-target="sidebar"] {
    visibility: hidden;
    transform: translateX(calc(-100% - 0.5rem));
  }

  /* Show sidebar once state is determined */
  html.sidebar-ready [data-sidebar-target="sidebar"] {
    visibility: visible;
  }

  /* Content has no margin by default */
  [data-sidebar-target="content"] {
    margin-left: 0;
  }

  /* When sidebar is open (class on html element) */
  html.sidebar-open [data-sidebar-target="sidebar"] {
    transform: translateX(0);
  }

  /* 48px sidebar + 8px gap = 56px */
  html.sidebar-open [data-sidebar-target="content"] {
    margin-left: 56px;
  }
}

/* ========================================
   TOAST ANIMATIONS
   ======================================== */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOut {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

.animate-slide-in {
  animation: slideIn 0.2s ease-out forwards;
}

.animate-slide-out {
  animation: slideOut 0.2s ease-in forwards;
}

/* ========================================
   MARKDOWN CONTENT STYLING (File Viewer)
   ======================================== */
.markdown-content {
  color: var(--color-content-secondary);
  font-size: 0.875rem;
  line-height: 1.7;
}

.markdown-content h1 {
  color: var(--color-content);
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  margin: 1.5rem 0 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--color-border);
}

.markdown-content h2 {
  color: var(--color-content);
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  margin: 1.25rem 0 0.5rem;
  padding-bottom: 0.375rem;
  border-bottom: 1px solid var(--color-border);
}

.markdown-content h3 {
  color: var(--color-content);
  font-family: var(--font-display);
  font-size: 1.1rem;
  font-weight: 600;
  margin: 1rem 0 0.5rem;
}

.markdown-content h4, .markdown-content h5, .markdown-content h6 {
  color: var(--color-content);
  font-family: var(--font-display);
  font-weight: 600;
  margin: 0.75rem 0 0.375rem;
}

.markdown-content p {
  margin: 0.5rem 0;
}

.markdown-content a {
  color: var(--color-accent);
  text-decoration: none;
}

.markdown-content a:hover {
  text-decoration: underline;
}

.markdown-content strong {
  color: var(--color-content);
  font-weight: 600;
}

.markdown-content em {
  font-style: italic;
}

.markdown-content code {
  color: var(--color-accent);
  background: var(--color-bg-elevated);
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.8em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.markdown-content pre {
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: 0.5rem;
  padding: 1rem;
  margin: 0.75rem 0;
  overflow-x: auto;
}

.markdown-content pre code {
  background: transparent;
  padding: 0;
  color: var(--color-content-secondary);
  font-size: 0.8rem;
}

.markdown-content ul, .markdown-content ol {
  padding-left: 1.5rem;
  margin: 0.5rem 0;
}

.markdown-content ul {
  list-style-type: disc;
}

.markdown-content ol {
  list-style-type: decimal;
}

.markdown-content li {
  margin: 0.25rem 0;
}

.markdown-content li > ul, .markdown-content li > ol {
  margin: 0.125rem 0;
}

.markdown-content blockquote {
  border-left: 3px solid var(--color-accent);
  padding-left: 1rem;
  margin: 0.75rem 0;
  color: var(--color-content-muted);
  font-style: italic;
}

.markdown-content table {
  width: 100%;
  border-collapse: collapse;
  margin: 0.75rem 0;
  font-size: 0.8rem;
}

.markdown-content th {
  background: var(--color-bg-elevated);
  color: var(--color-content);
  font-weight: 600;
  padding: 0.5rem 0.75rem;
  text-align: left;
  border: 1px solid var(--color-border);
}

.markdown-content td {
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--color-border);
}

.markdown-content hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 1.5rem 0;
}

.markdown-content img {
  max-width: 100%;
  border-radius: 0.5rem;
}

.markdown-content :first-child {
  margin-top: 0;
}

/* ========================================
   NIGHTBEAT TASK CARDS (Moon Theme)
   Tasks created by overnight audits
   ======================================== */
.task-card-nightly {
  background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%) !important;
  border: 1px solid rgba(99, 102, 241, 0.3) !important;
  box-shadow: 
    0 0 15px rgba(99, 102, 241, 0.1),
    0 0 30px rgba(99, 102, 241, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  position: relative;
  overflow: hidden;
}

.task-card-nightly::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 60px;
  height: 60px;
  background: radial-gradient(circle at center, rgba(99, 102, 241, 0.15) 0%, transparent 70%);
  pointer-events: none;
}

/* Stars overlay effect */
.task-card-nightly::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    radial-gradient(1px 1px at 10px 10px, rgba(255, 255, 255, 0.3), transparent),
    radial-gradient(1px 1px at 30px 25px, rgba(255, 255, 255, 0.2), transparent),
    radial-gradient(1px 1px at 50px 15px, rgba(255, 255, 255, 0.25), transparent),
    radial-gradient(1px 1px at 70px 30px, rgba(255, 255, 255, 0.15), transparent);
  background-size: 80px 40px;
  opacity: 0.5;
  pointer-events: none;
}

.task-card-nightly:hover {
  box-shadow: 
    0 0 20px rgba(99, 102, 241, 0.2),
    0 0 40px rgba(99, 102, 241, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.task-card-nightly .task-title,
.task-card-nightly .text-content {
  color: #e2e8f0 !important;
}

.task-card-nightly .text-content-secondary,
.task-card-nightly .text-content-muted {
  color: #94a3b8 !important;
}

/* Nightly badge styling */
.nightly-badge {
  background: rgba(99, 102, 241, 0.2);
  color: #a5b4fc;
  border: 1px solid rgba(99, 102, 241, 0.3);
  box-shadow: 0 0 8px rgba(99, 102, 241, 0.2);
  animation: nightly-glow 3s ease-in-out infinite alternate;
}

@keyframes nightly-glow {
  0% { box-shadow: 0 0 8px rgba(99, 102, 241, 0.2); }
  100% { box-shadow: 0 0 12px rgba(99, 102, 241, 0.4); }
}

/* Nightly filter button active state */
.nightly-filter-active {
  background: rgba(99, 102, 241, 0.2) !important;
  color: #a5b4fc !important;
  border-color: rgba(99, 102, 241, 0.5) !important;
}

/* ========================================
   DIFF VIEWER STYLING
   ======================================== */
.diff-content {
  color: var(--color-content-secondary);
}

.diff-content ins { 
  background-color: rgba(34, 197, 94, 0.15); 
  text-decoration: none; 
  display: block;
  padding: 1px 8px;
  color: #86efac;
}

.diff-content del { 
  background-color: rgba(239, 68, 68, 0.15); 
  text-decoration: none; 
  display: block;
  padding: 1px 8px;
  color: #fca5a5;
}

.diff-content li {
  list-style: none;
  padding: 1px 8px;
}

.diff-content ul {
  padding: 0;
  margin: 0;
}

/* Diff header lines (@@) */
.diff-content li:has(ins):has(del),
.diff-content .diff-block-info {
  background-color: rgba(59, 130, 246, 0.1);
  color: #93c5fd;
}

/* ========================================
   VAPORWAVE V2 THEME EFFECTS
   Full synthwave aesthetic redesign
   ======================================== */

/* === FLOATING COLOR BLOBS === */
[data-theme="vaporwave"] .vaporwave-blob {
  position: fixed;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.4;
  pointer-events: none;
  z-index: 0;
  animation: blobFloat 20s ease-in-out infinite;
}

[data-theme="vaporwave"] .vaporwave-blob-1 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, #FF71CE 0%, transparent 70%);
  top: 10%;
  left: 10%;
  animation-delay: 0s;
}

[data-theme="vaporwave"] .vaporwave-blob-2 {
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, #01CDFE 0%, transparent 70%);
  top: 50%;
  right: 15%;
  animation-delay: -7s;
}

[data-theme="vaporwave"] .vaporwave-blob-3 {
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, #B967FF 0%, transparent 70%);
  bottom: 20%;
  left: 30%;
  animation-delay: -14s;
}

@keyframes blobFloat {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(30px, -30px) scale(1.05);
  }
  50% {
    transform: translate(-20px, 20px) scale(0.95);
  }
  75% {
    transform: translate(-30px, -20px) scale(1.02);
  }
}

/* === RETRO GRID FLOOR (enhanced) === */
[data-theme="vaporwave"] body::before {
  content: '';
  position: fixed;
  bottom: 0;
  left: -50%;
  width: 200%;
  height: 50%;
  background: 
    repeating-linear-gradient(90deg, rgba(255,113,206,0.1) 0px, rgba(255,113,206,0.1) 1px, transparent 1px, transparent 50px),
    repeating-linear-gradient(0deg, rgba(185,103,255,0.08) 0px, rgba(185,103,255,0.08) 1px, transparent 1px, transparent 50px);
  transform: perspective(500px) rotateX(60deg);
  transform-origin: center top;
  pointer-events: none;
  z-index: 0;
  animation: gridPulse 4s ease-in-out infinite;
}

@keyframes gridPulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.8; }
}

/* === CRT SCANLINES (enhanced) === */
[data-theme="vaporwave"] body::after {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.04) 2px,
    rgba(0, 0, 0, 0.04) 4px
  );
  pointer-events: none;
  z-index: 9999;
}

/* === GLITCH TEXT EFFECT === */
[data-theme="vaporwave"] .vaporwave-glitch {
  font-family: 'Press Start 2P', monospace;
  position: relative;
  text-shadow: 
    2px 0 #FF71CE, 
    -2px 0 #01CDFE;
  animation: glitch 2.5s infinite;
}

[data-theme="vaporwave"] .vaporwave-glitch::before,
[data-theme="vaporwave"] .vaporwave-glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

[data-theme="vaporwave"] .vaporwave-glitch::before {
  left: 2px;
  text-shadow: -2px 0 #FF71CE;
  clip: rect(24px, 550px, 90px, 0);
  animation: glitch-anim 2s infinite linear alternate-reverse;
}

[data-theme="vaporwave"] .vaporwave-glitch::after {
  left: -2px;
  text-shadow: -2px 0 #01CDFE;
  clip: rect(85px, 550px, 140px, 0);
  animation: glitch-anim 2s infinite linear alternate-reverse;
  animation-delay: -1s;
}

@keyframes glitch {
  0%, 100% { text-shadow: 2px 0 #FF71CE, -2px 0 #01CDFE; }
  25% { text-shadow: -2px 0 #FF71CE, 2px 0 #01CDFE; }
  50% { text-shadow: 2px 2px #FF71CE, -2px -2px #01CDFE; }
  75% { text-shadow: -2px -2px #FF71CE, 2px 2px #01CDFE; }
}

@keyframes glitch-anim {
  0% { clip: rect(42px, 9999px, 44px, 0); }
  5% { clip: rect(12px, 9999px, 59px, 0); }
  10% { clip: rect(48px, 9999px, 29px, 0); }
  15% { clip: rect(42px, 9999px, 73px, 0); }
  20% { clip: rect(63px, 9999px, 27px, 0); }
  25% { clip: rect(34px, 9999px, 55px, 0); }
  30% { clip: rect(86px, 9999px, 73px, 0); }
  35% { clip: rect(20px, 9999px, 20px, 0); }
  40% { clip: rect(26px, 9999px, 60px, 0); }
  45% { clip: rect(25px, 9999px, 66px, 0); }
  50% { clip: rect(57px, 9999px, 98px, 0); }
  55% { clip: rect(5px, 9999px, 46px, 0); }
  60% { clip: rect(82px, 9999px, 31px, 0); }
  65% { clip: rect(54px, 9999px, 27px, 0); }
  70% { clip: rect(28px, 9999px, 99px, 0); }
  75% { clip: rect(45px, 9999px, 69px, 0); }
  80% { clip: rect(23px, 9999px, 85px, 0); }
  85% { clip: rect(54px, 9999px, 84px, 0); }
  90% { clip: rect(45px, 9999px, 47px, 0); }
  95% { clip: rect(37px, 9999px, 20px, 0); }
  100% { clip: rect(4px, 9999px, 91px, 0); }
}

/* === GLASS-MORPHISM HEADER === */
[data-theme="vaporwave"] .vaporwave-header {
  background: rgba(15, 5, 29, 0.95) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(185, 103, 255, 0.2) !important;
}

/* === GLASS-MORPHISM COLUMNS === */
[data-theme="vaporwave"] .vaporwave-column {
  background: rgba(15, 5, 29, 0.7) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(185, 103, 255, 0.25) !important;
  border-radius: 1rem !important;
}

/* === GRADIENT COLUMN COUNT BADGE === */
[data-theme="vaporwave"] .vaporwave-count-badge {
  background: linear-gradient(135deg, #FF71CE 0%, #B967FF 100%) !important;
  color: #0F051D !important;
  font-weight: 700 !important;
  border: none !important;
  box-shadow: 0 0 10px rgba(255, 113, 206, 0.3);
}

/* === LIVE BADGE PULSE === */
[data-theme="vaporwave"] .vaporwave-live-badge {
  background: rgba(5, 255, 161, 0.2) !important;
  color: #05FFA1 !important;
  border: 1px solid rgba(5, 255, 161, 0.4) !important;
  animation: livePulse 2s ease-in-out infinite;
}

@keyframes livePulse {
  0%, 100% { 
    box-shadow: 0 0 5px rgba(5, 255, 161, 0.3);
    opacity: 1;
  }
  50% { 
    box-shadow: 0 0 15px rgba(5, 255, 161, 0.6);
    opacity: 0.8;
  }
}

/* === GRADIENT ACTIVE TAB === */
[data-theme="vaporwave"] .vaporwave-tab-active {
  background: linear-gradient(135deg, #FF71CE 0%, #B967FF 100%) !important;
  color: #FEFEFE !important;
  box-shadow: 0 0 15px rgba(255, 113, 206, 0.4);
}

/* === ENHANCED TASK CARD HOVER === */
[data-theme="vaporwave"] li[id^="task_"] {
  transition: all 0.2s ease;
  border: 1px solid transparent;
}

[data-theme="vaporwave"] li[id^="task_"]:hover {
  transform: translateY(-3px);
  box-shadow: 
    0 0 20px rgba(185, 103, 255, 0.3),
    0 0 40px rgba(255, 113, 206, 0.15),
    0 8px 25px rgba(0, 0, 0, 0.3);
  border-color: rgba(185, 103, 255, 0.4);
}

/* === NEON MODEL BORDERS (enhanced) === */
[data-theme="vaporwave"] li[id^="task_"].border-l-purple-500 {
  border-left-color: #B967FF !important;
  box-shadow: inset 3px 0 10px rgba(185, 103, 255, 0.2);
}

[data-theme="vaporwave"] li[id^="task_"].border-l-blue-500 {
  border-left-color: #01CDFE !important;
  box-shadow: inset 3px 0 10px rgba(1, 205, 254, 0.2);
}

[data-theme="vaporwave"] li[id^="task_"].border-l-green-500 {
  border-left-color: #05FFA1 !important;
  box-shadow: inset 3px 0 10px rgba(5, 255, 161, 0.2);
}

[data-theme="vaporwave"] li[id^="task_"].border-l-yellow-500 {
  border-left-color: #FFE156 !important;
  box-shadow: inset 3px 0 10px rgba(255, 225, 86, 0.2);
}

[data-theme="vaporwave"] li[id^="task_"].border-l-orange-500 {
  border-left-color: #FF9A3C !important;
  box-shadow: inset 3px 0 10px rgba(255, 154, 60, 0.2);
}

/* === VAPORWAVE COLUMN STATUS TINTS === */
[data-theme="vaporwave"] .column-in-progress {
  border-top: 2px solid #FF71CE !important;
  box-shadow: 0 -2px 15px rgba(255, 113, 206, 0.2);
}

[data-theme="vaporwave"] .column-up-next {
  border-top: 2px solid #01CDFE;
}

[data-theme="vaporwave"] .column-in-review {
  border-top: 2px solid #B967FF;
}

[data-theme="vaporwave"] .column-done {
  border-top: 2px solid #05FFA1;
}

/* === ACCENT BUTTON GLOW === */
[data-theme="vaporwave"] .bg-accent:hover {
  box-shadow: 0 0 25px rgba(255, 113, 206, 0.5);
}

/* === NEON HEADING TEXT === */
[data-theme="vaporwave"] .font-display {
  text-shadow: 0 0 15px rgba(255, 113, 206, 0.4);
}

/* === AGENT BADGE MOON GLOW === */
[data-theme="vaporwave"] .nightly-badge {
  animation: moonGlow 3s ease-in-out infinite alternate;
}

@keyframes moonGlow {
  0% { 
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.3);
    filter: brightness(1);
  }
  100% { 
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.6);
    filter: brightness(1.1);
  }
}

/* === ANIMATED GRADIENT BORDERS ON ACTIVE/FOCUSED ELEMENTS === */
@keyframes neonBorderRotate {
  0% { --angle: 0deg; }
  100% { --angle: 360deg; }
}

@property --angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

[data-theme="vaporwave"] input:focus,
[data-theme="vaporwave"] textarea:focus,
[data-theme="vaporwave"] select:focus {
  border-color: transparent !important;
  background-image: linear-gradient(var(--color-bg-surface), var(--color-bg-surface)),
    conic-gradient(from var(--angle), #FF71CE, #01CDFE, #B967FF, #05FFA1, #FF71CE);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  animation: neonBorderRotate 3s linear infinite;
  box-shadow: 0 0 15px rgba(185, 103, 255, 0.3);
}

/* === NEON GLOW ON BUTTONS === */
[data-theme="vaporwave"] button:hover,
[data-theme="vaporwave"] a.btn:hover,
[data-theme="vaporwave"] [role="button"]:hover {
  text-shadow: 0 0 8px rgba(255, 113, 206, 0.6), 0 0 20px rgba(1, 205, 254, 0.3);
}

[data-theme="vaporwave"] button:active,
[data-theme="vaporwave"] a.btn:active {
  text-shadow: 0 0 12px rgba(255, 113, 206, 0.9), 0 0 30px rgba(1, 205, 254, 0.5);
  transform: scale(0.98);
}

/* === GRADIENT TEXT ON ACTIVE NAV LINKS === */
[data-theme="vaporwave"] .nav-active,
[data-theme="vaporwave"] [aria-current="page"] {
  background: linear-gradient(90deg, #FF71CE, #01CDFE, #B967FF);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientShift 4s ease-in-out infinite;
  background-size: 200% auto;
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% center; }
  50% { background-position: 100% center; }
}

/* === NEON SCROLLBAR === */
[data-theme="vaporwave"] ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

[data-theme="vaporwave"] ::-webkit-scrollbar-track {
  background: var(--color-bg-base);
}

[data-theme="vaporwave"] ::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #FF71CE, #B967FF);
  border-radius: 3px;
}

[data-theme="vaporwave"] ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #FF9AD9, #D09FFF);
  box-shadow: 0 0 8px rgba(185, 103, 255, 0.5);
}

/* === CRT SCANLINE TOGGLE (add .no-scanlines to body to disable) === */
[data-theme="vaporwave"] body.no-scanlines::after {
  display: none !important;
}

/* === CRT FLICKER EFFECT (optional, add .crt-flicker to body) === */
[data-theme="vaporwave"] body.crt-flicker {
  animation: crtFlicker 0.15s infinite;
}

@keyframes crtFlicker {
  0% { opacity: 0.97; }
  50% { opacity: 1; }
  100% { opacity: 0.98; }
}

/* === PULSING NEON STATUS DOTS === */
[data-theme="vaporwave"] .status-dot-in-progress {
  animation: neonPulse-pink 2s ease-in-out infinite;
}

[data-theme="vaporwave"] .status-dot-in-review {
  animation: neonPulse-purple 2s ease-in-out infinite;
}

@keyframes neonPulse-pink {
  0%, 100% { box-shadow: 0 0 4px #FF71CE, 0 0 8px rgba(255, 113, 206, 0.4); }
  50% { box-shadow: 0 0 8px #FF71CE, 0 0 20px rgba(255, 113, 206, 0.6), 0 0 40px rgba(255, 113, 206, 0.2); }
}

@keyframes neonPulse-purple {
  0%, 100% { box-shadow: 0 0 4px #B967FF, 0 0 8px rgba(185, 103, 255, 0.4); }
  50% { box-shadow: 0 0 8px #B967FF, 0 0 20px rgba(185, 103, 255, 0.6), 0 0 40px rgba(185, 103, 255, 0.2); }
}

/* === PANEL SLIDE-IN NEON BORDER === */
[data-theme="vaporwave"] [data-task-panel-target="panel"] {
  border-left: 2px solid transparent;
  background-image: linear-gradient(var(--color-bg-surface), var(--color-bg-surface)),
    linear-gradient(180deg, #FF71CE, #01CDFE, #B967FF);
  background-origin: border-box;
  background-clip: padding-box, border-box;
}

/* Self-hosted font fallbacks - ensures fonts render even offline */
@font-face {
  font-family: 'Clash Display Fallback';
  src: local('SF Pro Display'), local('Segoe UI'), local('Roboto');
  font-weight: 500 700;
  font-display: swap;
}

/* ========================================
   LIGHT THEME OVERRIDE
   Clean, professional light mode
   ======================================== */
[data-theme="light"] {
  --color-bg-base: #f8fafc;
  --color-bg-surface: #ffffff;
  --color-bg-elevated: #f1f5f9;
  --color-bg-hover: #e2e8f0;

  --color-accent: #ef4444;
  --color-accent-hover: #dc2626;
  --color-accent-dark: #991b1b;
  --color-accent-muted: rgba(239, 68, 68, 0.2);

  --color-content: #0f172a;
  --color-content-secondary: #334155;
  --color-content-muted: #64748b;
  --color-content-inverse: #f8fafc;

  --color-border: #e2e8f0;
  --color-border-accent: rgba(239, 68, 68, 0.3);

  --color-status-success: #16a34a;
  --color-status-warning: #d97706;
  --color-status-error: #dc2626;
  --color-status-info: #2563eb;

  --font-display: "Clash Display", system-ui, sans-serif;
  --font-body: "Satoshi", system-ui, sans-serif;
}

/* Light theme adjustments */
[data-theme="light"] .stars,
[data-theme="light"] .nebula {
  display: none;
}

[data-theme="light"] .task-card-nightly {
  background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%) !important;
  border: 1px solid rgba(99, 102, 241, 0.2) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

[data-theme="light"] .task-card-nightly::before {
  background: radial-gradient(circle at center, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
}

[data-theme="light"] .task-card-nightly::after {
  display: none;
}

[data-theme="light"] .task-card-nightly .task-title,
[data-theme="light"] .task-card-nightly .text-content {
  color: #1e293b !important;
}

[data-theme="light"] .task-card-nightly .text-content-secondary,
[data-theme="light"] .task-card-nightly .text-content-muted {
  color: #475569 !important;
}
